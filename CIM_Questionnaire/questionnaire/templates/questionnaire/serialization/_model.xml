
{#  model = the model #}

<!-- this is the start of {{ model.name }} -->

    <!-- this is the start of the standard properties -->
    {% for property in model.standard_properties.all %}
        {% with property_type=property.field_type %}
            {% if property_type == "ATOMIC" %}
                {% with "questionnaire/serialization/_standard_property_atomic.xml" as template %}
                    {% include template %}
                {% endwith %}
            {% elif property_type == "ENUMERATION" %}
                {% with "questionnaire/serialization/_standard_property_enumeration.xml" as template %}
                    {% include template %}
                {% endwith %}
            {% elif property_type == "RELATIONSHIP" %}
                {# TODO: IF IS_REFERENCE...  #}
                {% with "questionnaire/serialization/_standard_property_relationship.xml" as template %}
                    {% include template %}
                {% endwith %}
            {% endif %}
        {% endwith %} {# /property_type #}
    {% endfor %} {# /property #}
    <!-- this is the end of the standard properties -->

    <!-- this is the start of the scientific properties -->
    <componentProperties>
        {% for property in model.scientific_properties.all %}
            {% with property_type=property.field_type %}
                asdf
            {% endwith %} {# /property_type #}
        {% endfor %} {# /property #}
    </componentProperties>
    <!-- this is the end of the scientific properties -->

    <!-- this is the start of child comonponents -->
    {% for child in model.get_children.all %}
        {% with model=child %}
            {% with "questionnaire/serialization/_model.xml" as template %}
                {% include template %}
            {% endwith %}
        {% endwith %} {# /model #}
    {% endfor %}
    <!-- this is the end of child components -->

    {% if model.is_document %}
        {% with "questionnaire/serialization/_document.xml" as template %}
            {%  include template %}
        {% endwith %}
    {% else %}
        {# this is model is not a CIM Document #}
    {% endif %} {# /is_document #}

<!-- this is the end of {{ model.name }} -->
