{% extends "dcf/dcf_base.html" %}

{% load dcf_filters %}

{% block scripts %}

    $(document).ready(
        enableDCF()
    )

{% endblock %} {# /scripts #}


{% block content %}

HELLO WORLD!
      <div id='dcf'>
        <div id='customize'>
            <form>
                <br/>
                <div class='form'>
                    {% with formset=form|getNamedSubForm:'attributes' %}
                        {{ formset.non_form_errors }}
                        {{ formset.management_form }}
                            <span class='subform-toolbar ui-widget-header ui-corner-all'>
                                <button type='button' class='sort'>sort</button>
                                <ul class='sort_by'>
                                    <li><a href='#' name='sort_by_name'>by name</a></li>
                                    <li><a href='#' name='sort_by_order'>by order</a></li>
                                </ul>
                                <button type='button' class='expand' title='expand all attributes'>expand all</button>
                                <button type='button' class='collapse' title='collapse all attributes'>collapse all</button>
                            </span> <!-- /.subform-toolbar -->
                            <div style='clear: both;'>&nbsp;</div>
                            <div class='accordion'>
                                {% for form in formset.forms|sortFormsByField:'order' %}
                                    <h3 class='accordion-header'>
                                        <a>
                                            <table width='100%' border='0'>
                                                <tr valign='middle'>
                                                    <td width='30%' align='left'>
                                                        <b>name:&nbsp;</b>
                                                        <span name='field-name'>{{form.getAttributeName}}</span>
                                                    </td>
                                                    <td width='30%' align='left'>
                                                        <b>category:&nbsp;</b>
                                                        <span class='label' name='field-category'>{{form.getCategoryName}}</span>
                                                    </td>
                                                    <td width='40%' align='left'>
                                                        <b>order:&nbsp;</b>
                                                        <span class='label' name='field-order'>{{form.getAttributeOrder}}</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </a>
                                    </h3> <!-- /.accordion-header -->
                                    <div class='accordion-content'>
                                        <div class='form'>
                                            {% for hiddenField in form.hidden_fields %}
                                                {{ hiddenField }}
                                            {% endfor %} {# /hiddenField #}
                                            <table width='100%' border='0'>
                                                {% for field in form.visible_fields %}
                                                    {% with field_label=field.label field_id='customization_details_'|add:field.name %}
                                                        <tr valign='top' class=""{% cycle 'odd' 'even' %} field">
                                                            <td>
                                                                {% if field.help_text %}
                                                                    help
                                                                {% endif %} {# /field.help_text #}
                                                               <span class='field_label'>
                                                                    {{field.label}}:&nbsp;
                                                                </span>
                                                            </td>
                                                            <td>
                                                                <span class='field_value' name='{{field.name}}'>
                                                                    {{field}}
                                                                </span>
                                                                {% if field.errors %}
                                                                    error
                                                                {% endif %}
                                                                {# a one-off hard-coded bit #}
                                                                {% if field.name == 'customize_subform' %}
                                                                    <button type='button' class='customize-subform' name='customize-subform' title='customize the {{form.getAttributeName}} subform' onclick="customize_subform('{{form.getAttributeName}}');">customize</button>
                                                                {% endif %}
                                                            </td>
                                                        </tr>
                                                    {% endwith %} {# /field_label, field_id #}
                                                {% endfor %} {# /field in form.visible_fields #}
                                            </table>
                                        </div> <!-- /.form -->
                                    </div> <!-- /.accordion-content -->
                                {% endfor %}
                            </div>
                    {% endwith %} {# /formset #}
                </div> <!-- /.form -->
            </form>
        </div> <!-- /#customize -->
      </div> <!-- /#dcf -->
      
{% endblock %} {# /content #}


<!-- subforms don't need headers, footers, etc. -->

{% block header %}
    <div class="header"/><!-- empty header -->
{% endblock %}

{% block footer %}
    <div class="footer"/><!-- empty footer -->
{% endblock %}